!function(e){var t={},n=e.document;window.addEventListener("load",function(){"function"==typeof FastClick&&FastClick.attach(document.body),n.addEventListener("touchstart",function(){},!1)},!1),"function"==typeof define?define(t):e.YDUI=t}(window),!function(e,t){var n=t.dialog=t.dialog||{},i=e.document,o=i.querySelectorAll("body")[0];n.confirm=function(e,n,r){var a=t,c=arguments.length;if(2>c)return void console.error("From YDUI's confirm: Please set two or three parameters!!!");if("function"!=typeof arguments[1]&&2==c&&!arguments[1]instanceof Array)return void console.error("From YDUI's confirm: The second parameter must be a function or array!!!");2==c&&(r=n,n=e,e="提示");var l=r;"function"==typeof r&&(l=[{txt:"取消",color:!1},{txt:"确定",color:!0,callback:function(){r&&r()}}]);var s=i.createElement("div"),u="YDUI_CONFRIM";s.id=u,s.innerHTML='<div class="mask-black"></div><div class="m-confirm">    <div class="confirm-hd"><strong class="confirm-title">'+e+'</strong></div>    <div class="confirm-bd">'+n+"</div></div>";var d=i.querySelector("#"+u);d&&s.parentNode.removeChild(s);var m=i.createElement("div");m.className="confirm-ft",l.forEach(function(e,t){var n=i.createElement("a");n.href="javascript:;","boolean"==typeof e.color?n.className="confirm-btn "+(e.color?"primary":"default"):"string"==typeof e.color&&n.setAttribute("style","color: "+e.color),n.innerHTML=e.txt||"",function(e){n.onclick=function(){l[e].stay||(a.pageScroll.unlock(),s.parentNode.removeChild(s)),l[e].callback&&l[e].callback()}}(t),m.appendChild(n)}),s.querySelector(".m-confirm").appendChild(m),a.pageScroll.lock(),o.appendChild(s)},n.alert=function(e,n){var r=i.createElement("div"),a="YDUI_ALERT";r.innerHTML='<div>    <div class="mask-black"></div>    <div class="m-confirm m-alert">        <div class="confirm-bd">'+(e||"YDUI Touch")+'</div>        <div class="confirm-ft">            <a href="javascript:;" class="confirm-btn primary">确定</a>        </div>    </div></div>';var c=i.querySelector("#"+a);c&&r.parentNode.removeChild(r),t.pageScroll.lock(),o.appendChild(r),r.querySelectorAll("a")[0].onclick=function(){r.parentNode.removeChild(r),t.pageScroll.unlock(),"function"==typeof n&&n()}},n.toast=function(e,n,r,a){var c=arguments.length;if(2>c)return void console.error("From YDUI's tipMes: Please set two or more parameters!!!");var l="error"==n?"tipmes-error-ico":"tipmes-success-ico",s=i.createElement("div"),u="YDUI_TIPMES";s.id=u,s.innerHTML='<div>    <div class="mask-white"></div>    <div class="m-tipmes">        <div class="'+l+'"></div>        <p class="tipmes-content">'+(e||"")+"</p>    </div></div>";var d=i.querySelector("#"+u);d&&s.parentNode.removeChild(s),t.pageScroll.lock(),o.appendChild(s),"function"==typeof r&&arguments.length>=3&&(a=r,r=2e3);var m=setTimeout(function(){clearTimeout(m),t.pageScroll.unlock(),s.parentNode.removeChild(s),"function"==typeof a&&a()},(~~r||2e3)+100)},n.loading=function(){return{show:function(e){var n=i.createElement("div"),r="YDUI_LOADING";n.id=r,n.innerHTML='    <div class="mask-white"></div>    <div class="m-loading">        <div class="ld-loading">            <div class="m-loading-leaf m-loading-leaf-0"></div>            <div class="m-loading-leaf m-loading-leaf-1"></div>            <div class="m-loading-leaf m-loading-leaf-2"></div>            <div class="m-loading-leaf m-loading-leaf-3"></div>            <div class="m-loading-leaf m-loading-leaf-4"></div>            <div class="m-loading-leaf m-loading-leaf-5"></div>            <div class="m-loading-leaf m-loading-leaf-6"></div>            <div class="m-loading-leaf m-loading-leaf-7"></div>            <div class="m-loading-leaf m-loading-leaf-8"></div>            <div class="m-loading-leaf m-loading-leaf-9"></div>            <div class="m-loading-leaf m-loading-leaf-10"></div>            <div class="m-loading-leaf m-loading-leaf-11"></div>        </div>        <p class="ld-toast-content">'+(e||"数据加载中")+"</p>    </div>";var a=i.querySelector("#"+r);a&&n.parentNode.removeChild(n),t.pageScroll.lock(),o.appendChild(n)},hide:function(){t.pageScroll.unlock();var e=i.querySelector("#YDUI_LOADING");e.parentNode.removeChild(e)}}}()}(window,YDUI),!function(){"use strict";function e(t,i){function o(e,t){return function(){return e.apply(t,arguments)}}var r;if(i=i||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=i.touchBoundary||10,this.layer=t,this.tapDelay=i.tapDelay||200,this.tapTimeout=i.tapTimeout||700,!e.notNeeded(t)){for(var a=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],c=this,l=0,s=a.length;s>l;l++)c[a[l]]=o(c[a[l]],c);n&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,i){var o=Node.prototype.removeEventListener;"click"===e?o.call(t,e,n.hijacked||n,i):o.call(t,e,n,i)},t.addEventListener=function(e,n,i){var o=Node.prototype.addEventListener;"click"===e?o.call(t,e,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),i):o.call(t,e,n,i)}),"function"==typeof t.onclick&&(r=t.onclick,t.addEventListener("click",function(e){r(e)},!1),t.onclick=null)}}var t=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!t,i=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,o=i&&/OS 4_\d(_\d)?/.test(navigator.userAgent),r=i&&/OS [6-7]_\d/.test(navigator.userAgent),a=navigator.userAgent.indexOf("BB10")>0,c=!1;e.prototype.needsClick=function(e){for(var t=e;t&&"BODY"!==t.tagName.toUpperCase();){if("LABEL"===t.tagName.toUpperCase()&&(c=!0,/\bneedsclick\b/.test(t.className)))return!0;t=t.parentNode}switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(i&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},e.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},e.prototype.sendClick=function(e,t){var n,i;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),i=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},e.prototype.determineEventType=function(e){return n&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},e.prototype.focus=function(e){var t,n=["date","time","month","number","email"];i&&e.setSelectionRange&&-1===n.indexOf(e.type)?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},e.prototype.updateScrollParent=function(e){var t,n;if(t=e.fastClickScrollParent,!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},e.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},e.prototype.onTouchStart=function(e){var t,n,r;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],i){if(r=window.getSelection(),r.rangeCount&&!r.isCollapsed)return!0;if(!o){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},e.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n},e.prototype.onTouchMove=function(e){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},e.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},e.prototype.onTouchEnd=function(e){var t,a,c,l,s,u=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;var d=["date","time","month"];if(-1!==d.indexOf(e.target.type))return!1;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,a=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,r&&(s=e.changedTouches[0],u=document.elementFromPoint(s.pageX-window.pageXOffset,s.pageY-window.pageYOffset)||u,u.fastClickScrollParent=this.targetElement.fastClickScrollParent),c=u.tagName.toLowerCase(),"label"===c){if(t=this.findControl(u)){if(this.focus(u),n)return!1;u=t}}else if(this.needsFocus(u))return e.timeStamp-a>100||i&&window.top!==window&&"input"===c?(this.targetElement=null,!1):(this.focus(u),this.sendClick(u,e),i&&"select"===c||(this.targetElement=null,e.preventDefault()),!1);return i&&!o&&(l=u.fastClickScrollParent,l&&l.fastClickLastScrollTop!==l.scrollTop)?!0:(this.needsClick(u)||(e.preventDefault(),this.sendClick(u,e)),!1)},e.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},e.prototype.onMouse=function(e){return this.targetElement?e.forwardedTouchEvent?!0:e.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),c||e.preventDefault(),!1):!0:!0},e.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},e.prototype.destroy=function(){var e=this.layer;n&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},e.notNeeded=function(e){var t,i,o,r;if("undefined"==typeof window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(i>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(a&&(o=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),o[1]>=10&&o[2]>=3&&(t=document.querySelector("meta[name=viewport]")))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction?!0:(r=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],r>=27&&(t=document.querySelector("meta[name=viewport]"),t&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===e.style.touchAction||"manipulation"===e.style.touchAction)},e.attach=function(t,n){return new e(t,n)},window.FastClick=e}(),!function(e,t){var n=e.document;t.pageScroll=function(){var e=function(e){e.preventDefault(),e.stopPropagation()},t=!1;return{lock:function(){t||(t=!0,n.addEventListener("touchmove",e))},unlock:function(){t=!1,n.removeEventListener("touchmove",e)}}}()}(window,YDUI),!function(win,$){function storage(e){var t=util;return{set:function(n,i){e.setItem(n,t.serialize(i))},get:function(n){return t.deserialize(e.getItem(n))},remove:function(t){e.removeItem(t)},clear:function(){e.clear()}}}var util=$.util=$.util||{},doc=win.document;util.timestampTotime=function(e,t){var n={},i=function(e){return 10>e?"0"+e:e};n.f=t%1e3,t=Math.floor(t/1e3),n.s=t%60,t=Math.floor(t/60),n.m=t%60,t=Math.floor(t/60),n.h=t%24,n.d=Math.floor(t/24);var o=function(e){return"$1"+i(e)+"$2"};return e=e.replace(/\{([^{]*?)%d(.*?)\}/g,o(n.d)),e=e.replace(/\{([^{]*?)%h(.*?)\}/g,o(n.h)),e=e.replace(/\{([^{]*?)%m(.*?)\}/g,o(n.m)),e=e.replace(/\{([^{]*?)%s(.*?)\}/g,o(n.s)),e=e.replace(/\{([^{]*?)%f(.*?)\}/g,o(n.f))},util.countdown=function(e,t,n,i){var o=this,r=(new Date).getTime(),a=setInterval(function(){var n=t-(new Date).getTime()+r;n>0?i(o.timestampTotime(e,n)):(clearInterval(a),"function"==typeof i&&i(""))},n)},util.calc=function(arg1,arg2,op){var ra=1,rb=1,m;try{ra=arg1.toString().split(".")[1].length}catch(e){}try{rb=arg2.toString().split(".")[1].length}catch(e){}switch(m=Math.pow(10,Math.max(ra,rb)),op){case"+":case"-":arg1=Math.round(arg1*m),arg2=Math.round(arg2*m);break;case"*":ra=Math.pow(10,ra),rb=Math.pow(10,rb),m=ra*rb,arg1=Math.round(arg1*ra),arg2=Math.round(arg2*rb);break;case"/":arg1=Math.round(arg1*m),arg2=Math.round(arg2*m),m=1}try{var result=eval("(("+arg1+")"+op+"("+arg2+"))/"+m)}catch(e){}return result},util.getImgBase64=function(e,t){var n=this,i="",o=e.files[0];if(o){if(!/image\/\w+/.test(o.type))return void n.tipMes("请上传图片文件","error");var r=new FileReader;r.readAsDataURL(o),r.onload=function(){i=this.result,"function"==typeof t&&t(i)}}},util.getQueryString=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=win.location.search.substr(1).match(t),i="";return null!=n&&(i=decodeURIComponent(n[2])),i},util.serialize=function(e){return"string"==typeof e?e:JSON.stringify(e)},util.deserialize=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e||void 0}},util.localStorage=function(){return storage(win.localStorage)}(),util.sessionStorage=function(){return storage(win.sessionStorage)}(),util.cookie=function(){return{get:function(e){var t=doc.cookie.match("(?:^|;)\\s*"+e+"=([^;]*)");return t&&t[1]?decodeURIComponent(t[1]):""},set:function(e,t,n,i,o,r){var a=String(encodeURIComponent(t)),c=n;"number"==typeof c&&(c=new Date,c.setTime(c.getTime()+1e3*n)),c instanceof Date&&(a+="; expires="+c.toUTCString()),!!i&&(a+="; domain="+i),a+="; path="+(o||"/"),r&&(a+="; secure"),doc.cookie=e+"="+a}}}(),util.getUA=function(){return win.navigator&&win.navigator.userAgent||""},util.isMobile=function(){return!!getUA.match(/AppleWebKit.*Mobile.*/)||"ontouchstart"in doc.documentElement},util.isIOS=function(){return!!getUA.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)},util.isWeixin=function(){return getUA.indexOf("MicroMessenger")>-1};var getUA=util.getUA();$.isMobile=util.isMobile(),$.isWeixin=util.isWeixin(),$.isIOS=util.isIOS()}(window,YDUI);