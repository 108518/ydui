/*! YDUI v1.0.0 by YDCSS (c) 2016 Licensed MIT */ 
!function(win){"use strict";var util={};util.confirm=function(e,i,t){var o=this,n=arguments.length;if(2>n)return void console.error("From YDUI's confirm: Please set two or three parameters!!!");if("function"!=typeof arguments[1]&&2==n&&!arguments[1]instanceof Array)return void console.error("From YDUI's confirm: The second parameter must be a function or array!!!");2==n&&(t=i,i=e,e="提示");var a=t;"function"==typeof t&&(a=[{txt:"取消",color:!1},{txt:"确定",color:!0,callback:function(){t&&t()}}]);var r=$();$.each(a,function(e,i){var t="";"boolean"==typeof i.color?t='class="confirm-btn '+(i.color?"primary":"default")+'"':"string"==typeof i.color&&(t='style="color: '+i.color+'"');var n=$('<a href="javascript:;" '+t+">"+(i.txt||"")+"</a>");n.on("click",function(){i.stay||(o.pageScroll.unlock(),$("#J_YDConfirm").remove()),i.callback&&i.callback()}),r=r.add(n)});var l=$('<div id="J_YDConfirm">    <div class="mask-black"></div>    <div class="m-confirm">        <div class="confirm-hd"><strong class="confirm-title">'+e+'</strong></div>        <div class="confirm-bd">'+i+'</div>        <div class="confirm-ft" id="J_YDBtns"></div>    </div></div>').remove();l.find("#J_YDBtns").append(r),o.pageScroll.lock(),$body.append(l)},util.alert=function(e,i){var t=$('<div>    <div class="mask-black"></div>    <div class="m-confirm m-alert">        <div class="confirm-bd">'+(e||"YDUI Touch")+'</div>        <div class="confirm-ft">            <a href="javascript:;" class="confirm-btn primary" id="J_AlertEnter">确定</a>        </div>    </div></div>').remove();util.pageScroll.lock(),$body.append(t),$("#J_AlertEnter").on("click",function(){t.remove(),util.pageScroll.unlock(),"function"==typeof i&&i()})},util.tipMes=function(e,i,t,o){var n=arguments.length;if(2>n)return void console.error("From YDUI's tipMes: Please set two or more parameters!!!");var a="error"==i?"tipmes-error-ico":"tipmes-success-ico",r=$('<div>    <div class="mask-white"></div>    <div class="m-tipmes">        <div class="'+a+'"></div>        <p class="tipmes-content">'+(e||"")+"</p>    </div></div>").remove();util.pageScroll.lock(),$body.append(r),"function"==typeof t&&arguments.length>=3&&(o=t,t=2e3);var l=setTimeout(function(){clearTimeout(l),util.pageScroll.unlock(),r.remove(),"function"==typeof o&&o()},(~~t||2e3)+100)},util.showLoading=function(e){var i=$('<div id="J_ToastLoading">    <div class="mask-white"></div>    <div class="m-loading">        <div class="ld-loading">            <div class="m-loading-leaf m-loading-leaf-0"></div>            <div class="m-loading-leaf m-loading-leaf-1"></div>            <div class="m-loading-leaf m-loading-leaf-2"></div>            <div class="m-loading-leaf m-loading-leaf-3"></div>            <div class="m-loading-leaf m-loading-leaf-4"></div>            <div class="m-loading-leaf m-loading-leaf-5"></div>            <div class="m-loading-leaf m-loading-leaf-6"></div>            <div class="m-loading-leaf m-loading-leaf-7"></div>            <div class="m-loading-leaf m-loading-leaf-8"></div>            <div class="m-loading-leaf m-loading-leaf-9"></div>            <div class="m-loading-leaf m-loading-leaf-10"></div>            <div class="m-loading-leaf m-loading-leaf-11"></div>        </div>        <p class="ld-toast-content">'+(e||"数据加载中")+"</p>    </div></div>").remove();util.pageScroll.lock(),$body.append(i)},util.hideLoading=function(){util.pageScroll.unlock(),$("#J_ToastLoading").remove()},util.pageScroll=function(){var e=function(e){e.preventDefault(),e.stopPropagation()},i=!1;return{lock:function(){i||(i=!0,$(document).on("touchmove",e))},unlock:function(){i=!1,$(document).unbind("touchmove",e)}}}(),util.checkTime=function(e){return 10>e?"0"+e:e},util.timestampTotime=function(e,i){var t=this,o={};o.f=i%1e3,i=Math.floor(i/1e3),o.s=i%60,i=Math.floor(i/60),o.m=i%60,i=Math.floor(i/60),o.h=i%24,o.d=Math.floor(i/24);var n=function(e){return"$1"+t.checkTime(e)+"$2"};return e=e.replace(/\{([^{]*?)%d(.*?)\}/g,n(o.d)),e=e.replace(/\{([^{]*?)%h(.*?)\}/g,n(o.h)),e=e.replace(/\{([^{]*?)%m(.*?)\}/g,n(o.m)),e=e.replace(/\{([^{]*?)%s(.*?)\}/g,n(o.s)),e=e.replace(/\{([^{]*?)%f(.*?)\}/g,n(o.f))},util.countdown=function(e,i,t,o){var n=this,a=(new Date).getTime(),r=setInterval(function(){var t=i-(new Date).getTime()+a;t>0?o(n.timestampTotime(e,t)):(clearInterval(r),"function"==typeof o&&o(""))},t)},util.calc=function(arg1,arg2,op){var ra=1,rb=1,m;try{ra=arg1.toString().split(".")[1].length}catch(e){}try{rb=arg2.toString().split(".")[1].length}catch(e){}switch(m=Math.pow(10,Math.max(ra,rb)),op){case"+":case"-":arg1=Math.round(arg1*m),arg2=Math.round(arg2*m);break;case"*":ra=Math.pow(10,ra),rb=Math.pow(10,rb),m=ra*rb,arg1=Math.round(arg1*ra),arg2=Math.round(arg2*rb);break;case"/":arg1=Math.round(arg1*m),arg2=Math.round(arg2*m),m=1}try{var result=eval("(("+arg1+")"+op+"("+arg2+"))/"+m)}catch(e){}return result},util.getImgBase64=function(e,i){var t=this,o="",n=e.files[0];if(n){if(!/image\/\w+/.test(n.type))return void t.tipMes("请上传图片文件","error");var a=new FileReader;a.readAsDataURL(n),a.onload=function(){o=this.result,"function"==typeof i&&i(o)}}},util.getQueryString=function(e){var i=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),t=win.location.search.substr(1).match(i),o="";return null!=t&&(o=decodeURIComponent(t[2])),o},util.localStorage=function(){var e=win.localStorage;return{set:function(i,t){e.setItem(i,t)},get:function(i){return e.getItem(i)},remove:function(i){e.removeItem(i)}}}(),util.sessionStorage=function(){var e=win.sessionStorage;return{set:function(i,t){e.setItem(i,t)},get:function(i){return e.getItem(i)},remove:function(i){e.removeItem(i)}}}(),util.cookie=function(){return{get:function(e){var i=win.document.cookie.match("(?:^|;)\\s*"+e+"=([^;]*)");return i&&i[1]?decodeURIComponent(i[1]):""},set:function(e,i,t,o,n,a){var r=String(encodeURIComponent(i)),l=t;"number"==typeof l&&(l=new Date,l.setTime(l.getTime()+60*t*60*1e3)),l instanceof Date&&(r+="; expires="+l.toUTCString()),!!o&&(r+="; domain="+o),!!n&&(r+="; path="+n),a&&(r+="; secure"),win.document.cookie=e+"="+r}}}(),util.getUA=function(){return win.navigator&&win.navigator.userAgent||""},util.isMobile=function(){return!!getUA.match(/AppleWebKit.*Mobile.*/)||"ontouchstart"in win.document.documentElement},util.isIOS=function(){return!!getUA.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)},util.isWeixin=function(){return getUA.indexOf("MicroMessenger")>-1};var $body=$("body"),getUA=util.getUA();if(win.isMobile=util.isMobile(),win.isWeixin=util.isWeixin(),win.isIOS=util.isIOS(),"function"==typeof define)define(["jquery"],util);else{var ydui=win.YDUI=win.YDUI||{};ydui.util=util}}(window);