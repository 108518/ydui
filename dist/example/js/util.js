!function(win){"use strict";var util={},doc=win.document;util.confirm=function(e,t,i){var o=this,n=arguments.length;if(2>n)return void console.error("From YDUI's confirm: Please set two or three parameters!!!");if("function"!=typeof arguments[1]&&2==n&&!arguments[1]instanceof Array)return void console.error("From YDUI's confirm: The second parameter must be a function or array!!!");2==n&&(i=t,t=e,e="提示");var r=i;"function"==typeof i&&(r=[{txt:"取消",color:!1},{txt:"确定",color:!0,callback:function(){i&&i()}}]);var a=doc.createElement("div"),l="YDUI_CONFRIM";a.id=l,a.innerHTML='<div class="mask-black"></div><div class="m-confirm">    <div class="confirm-hd"><strong class="confirm-title">'+e+'</strong></div>    <div class="confirm-bd">'+t+"</div></div>";var c=doc.querySelector("#"+l);c&&a.parentNode.removeChild(a);var d=doc.createElement("div");d.className="confirm-ft",r.forEach(function(e,t){var i=doc.createElement("a");i.href="javascript:;","boolean"==typeof e.color?i.className="confirm-btn "+(e.color?"primary":"default"):"string"==typeof e.color&&i.setAttribute("style","color: "+e.color),i.innerHTML=e.txt||"",function(e){i.onclick=function(){r[e].stay||(o.pageScroll.unlock(),a.parentNode.removeChild(a)),r[e].callback&&r[e].callback()}}(t),d.appendChild(i)}),a.querySelector(".m-confirm").appendChild(d),o.pageScroll.lock(),body.appendChild(a)},util.alert=function(e,t){var i=doc.createElement("div"),o="YDUI_ALERT";i.innerHTML='<div>    <div class="mask-black"></div>    <div class="m-confirm m-alert">        <div class="confirm-bd">'+(e||"YDUI Touch")+'</div>        <div class="confirm-ft">            <a href="javascript:;" class="confirm-btn primary">确定</a>        </div>    </div></div>';var n=doc.querySelector("#"+o);n&&i.parentNode.removeChild(i),util.pageScroll.lock(),body.appendChild(i),i.querySelectorAll("a")[0].onclick=function(){i.parentNode.removeChild(i),util.pageScroll.unlock(),"function"==typeof t&&t()}},util.tipMes=function(e,t,i,o){var n=arguments.length;if(2>n)return void console.error("From YDUI's tipMes: Please set two or more parameters!!!");var r="error"==t?"tipmes-error-ico":"tipmes-success-ico",a=doc.createElement("div"),l="YDUI_TIPMES";a.id=l,a.innerHTML='<div>    <div class="mask-white"></div>    <div class="m-tipmes">        <div class="'+r+'"></div>        <p class="tipmes-content">'+(e||"")+"</p>    </div></div>";var c=doc.querySelector("#"+l);c&&a.parentNode.removeChild(a),util.pageScroll.lock(),body.appendChild(a),"function"==typeof i&&arguments.length>=3&&(o=i,i=2e3);var d=setTimeout(function(){clearTimeout(d),util.pageScroll.unlock(),a.parentNode.removeChild(a),"function"==typeof o&&o()},(~~i||2e3)+100)},util.showLoading=function(e){var t=doc.createElement("div"),i="YDUI_LOADING";t.id=i,t.innerHTML='    <div class="mask-white"></div>    <div class="m-loading">        <div class="ld-loading">            <div class="m-loading-leaf m-loading-leaf-0"></div>            <div class="m-loading-leaf m-loading-leaf-1"></div>            <div class="m-loading-leaf m-loading-leaf-2"></div>            <div class="m-loading-leaf m-loading-leaf-3"></div>            <div class="m-loading-leaf m-loading-leaf-4"></div>            <div class="m-loading-leaf m-loading-leaf-5"></div>            <div class="m-loading-leaf m-loading-leaf-6"></div>            <div class="m-loading-leaf m-loading-leaf-7"></div>            <div class="m-loading-leaf m-loading-leaf-8"></div>            <div class="m-loading-leaf m-loading-leaf-9"></div>            <div class="m-loading-leaf m-loading-leaf-10"></div>            <div class="m-loading-leaf m-loading-leaf-11"></div>        </div>        <p class="ld-toast-content">'+(e||"数据加载中")+"</p>    </div>";var o=doc.querySelector("#"+i);o&&t.parentNode.removeChild(t),util.pageScroll.lock(),body.appendChild(t)},util.hideLoading=function(){util.pageScroll.unlock();var e=doc.querySelector("#YDUI_LOADING");e.parentNode.removeChild(e)},util.pageScroll=function(){var e=function(e){e.preventDefault(),e.stopPropagation()},t=!1;return{lock:function(){t||(t=!0,doc.addEventListener("touchmove",e))},unlock:function(){t=!1,doc.removeEventListener("touchmove",e)}}}(),util.timestampTotime=function(e,t){var i={},o=function(e){return 10>e?"0"+e:e};i.f=t%1e3,t=Math.floor(t/1e3),i.s=t%60,t=Math.floor(t/60),i.m=t%60,t=Math.floor(t/60),i.h=t%24,i.d=Math.floor(t/24);var n=function(e){return"$1"+o(e)+"$2"};return e=e.replace(/\{([^{]*?)%d(.*?)\}/g,n(i.d)),e=e.replace(/\{([^{]*?)%h(.*?)\}/g,n(i.h)),e=e.replace(/\{([^{]*?)%m(.*?)\}/g,n(i.m)),e=e.replace(/\{([^{]*?)%s(.*?)\}/g,n(i.s)),e=e.replace(/\{([^{]*?)%f(.*?)\}/g,n(i.f))},util.countdown=function(e,t,i,o){var n=this,r=(new Date).getTime(),a=setInterval(function(){var i=t-(new Date).getTime()+r;i>0?o(n.timestampTotime(e,i)):(clearInterval(a),"function"==typeof o&&o(""))},i)},util.calc=function(arg1,arg2,op){var ra=1,rb=1,m;try{ra=arg1.toString().split(".")[1].length}catch(e){}try{rb=arg2.toString().split(".")[1].length}catch(e){}switch(m=Math.pow(10,Math.max(ra,rb)),op){case"+":case"-":arg1=Math.round(arg1*m),arg2=Math.round(arg2*m);break;case"*":ra=Math.pow(10,ra),rb=Math.pow(10,rb),m=ra*rb,arg1=Math.round(arg1*ra),arg2=Math.round(arg2*rb);break;case"/":arg1=Math.round(arg1*m),arg2=Math.round(arg2*m),m=1}try{var result=eval("(("+arg1+")"+op+"("+arg2+"))/"+m)}catch(e){}return result},util.getImgBase64=function(e,t){var i=this,o="",n=e.files[0];if(n){if(!/image\/\w+/.test(n.type))return void i.tipMes("请上传图片文件","error");var r=new FileReader;r.readAsDataURL(n),r.onload=function(){o=this.result,"function"==typeof t&&t(o)}}},util.getQueryString=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),i=win.location.search.substr(1).match(t),o="";return null!=i&&(o=decodeURIComponent(i[2])),o},util.localStorage=function(){var e=win.localStorage;return{set:function(t,i){e.setItem(t,i)},get:function(t){return e.getItem(t)},remove:function(t){e.removeItem(t)}}}(),util.sessionStorage=function(){var e=win.sessionStorage;return{set:function(t,i){e.setItem(t,i)},get:function(t){return e.getItem(t)},remove:function(t){e.removeItem(t)}}}(),util.cookie=function(){return{get:function(e){var t=doc.cookie.match("(?:^|;)\\s*"+e+"=([^;]*)");return t&&t[1]?decodeURIComponent(t[1]):""},set:function(e,t,i,o,n,r){var a=String(encodeURIComponent(t)),l=i;"number"==typeof l&&(l=new Date,l.setTime(l.getTime()+1e3*i)),l instanceof Date&&(a+="; expires="+l.toUTCString()),!!o&&(a+="; domain="+o),a+="; path="+(n||"/"),r&&(a+="; secure"),doc.cookie=e+"="+a}}}(),util.getUA=function(){return win.navigator&&win.navigator.userAgent||""},util.isMobile=function(){return!!getUA.match(/AppleWebKit.*Mobile.*/)||"ontouchstart"in doc.documentElement},util.isIOS=function(){return!!getUA.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)},util.isWeixin=function(){return getUA.indexOf("MicroMessenger")>-1};var body=doc.querySelectorAll("body")[0],getUA=util.getUA();if(win.isMobile=util.isMobile(),win.isWeixin=util.isWeixin(),win.isIOS=util.isIOS(),"function"==typeof define)define(util);else{var ydui=win.YDUI=win.YDUI||{};ydui.util=util}}(window);